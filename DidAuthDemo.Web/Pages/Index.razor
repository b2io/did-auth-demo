@page "/"

@using CardanoSharp.Blazor.Components;
@using CardanoSharp.Blazor.Components.Models;
@using CardanoSharp.Blazor.Components.Enums;

<PageTitle>Index</PageTitle>

<RadzenButton Click=OpenWallet>Connect</RadzenButton>

<WalletConnector
  @ref="myWebWallets" 
  Header="Please choose a wallet"
  AutoCloseOnConnect="false"
  AutoCloseOnDisconnect="true"
  Layout="WalletConnectorLayout.List" 
  SupportedExtensions=@(new List<WalletExtension>()
    {
        new WalletExtension() { 
            Key = "eternl", 
            Name = "Eternl",
                 Icon = "https://eternl.io/icons/favicon-96x96.png",
                 Url = "https://eternl.io" 
        },
        new WalletExtension() { 
            Key = "nami", 
            Name = "Nami",
                 Icon = "https://namiwallet.io/favicon-32x32.png?v=211b0d7bf3f14a0a7b86ec579c75946b",
                 Url = "https://namiwallet.io/" 
        },
    })
  >
</WalletConnector>

@code {
    WalletConnector myWebWallets;

    public async void OpenWallet()
    {
        if (myWebWallets != null && myWebWallets.Initialized)
        {
            if (myWebWallets.Connected)
            {
                var result = await myWebWallets.GetBalance();
            }
        }
    }

}

